TYPE NAME  POSSREP {NAME CHAR};
TYPE CHARACTER#   POSSREP {CHARACTERNUM CHAR};
TYPE EVENT#	   POSSREP {EVENTNUM CHAR};
TYPE MAP#	   POSSREP {MAPNUM CHAR};
TYPE PLACE#	POSSREP {PLACENUM CHAR};
TYPE ASSOCIATION#	POSSREP {ASSOCIATIONNUM CHAR};
TYPE RELATION#	POSSREP {RELATIONNUM CHAR};
TYPE DATE#	POSSREP {DATENUM CHAR};




VAR CHARACTER 	BASE RELATION {CHARACTERID CHARACTER#, NAME NAME} KEY {CHARACTERID};

VAR ASSOCIATION	BASE RELATION {CHARACTERID CHARACTER#, ASSOCIATIONID ASSOCIATION#} KEY {CHARACTERID , ASSOCIATIONID};
VAR ORIGINATES	BASE RELATION {CHARACTERID CHARACTER#, PLACEID PLACE#} KEY {CHARACTERID};
VAR BEHAVIOR	BASE RELATION {CHARACTERID CHARACTER#, BEHAVIOR CHAR} KEY {CHARACTERID, BEHAVIOR};
VAR PSEUDO	BASE RELATION {CALLERID CHARACTER#, CALLEDID CHARACTER#, PSEUDONYME NAME} KEY {CALLERID, CALLEDID, PSEUDONYME};

VAR TIMELESSRELATION	BASE RELATION {SOURCE CHARACTER#, TARGET CHARACTER#, RELATIONID RELATION#} KEY {SOURCE, TARGET, RELATIONID};
VAR DATERELATION	BASE RELATION {SOURCE CHARACTER#, TARGET CHARACTER#, RELATIONID RELATION#, DATEID DATE#} KEY {SOURCE, TARGET, RELATIONID, DATEID};
VAR RANGERELATION	BASE RELATION {SOURCE CHARACTER#, TARGET CHARACTER#, RELATIONID RELATION#, START DATE#, ENDDATE DATE#} KEY {SOURCE, TARGET, RELATIONID, START, ENDDATE};


VAR BIRTH	BASE RELATION {CHARACTERID CHARACTER#, BIRTH DATE#} KEY {CHARACTERID};
VAR DEATH	BASE RELATION {CHARACTERID CHARACTER#, DEATH DATE#} KEY {CHARACTERID};

VAR ATTENDS	BASE RELATION {CHARACTERID CHARACTER#, EVENTID EVENT#} KEY {CHARACTERID, EVENTID};

VAR DATE	BASE RELATION {DATEID DATE#, DAY INTEGER, MONTH INTEGER, YEAR INTEGER} KEY {DATEID};

VAR RELATIONLIST	BASE RELATION {RELATIONID RELATION#, RELATIONTYPE CHAR} KEY {RELATIONID};

VAR EVENTNAME	BASE RELATION {EVENTID EVENT#, NAME CHAR} KEY {EVENTID};
VAR EVENTDESCRIPTION	BASE RELATION {EVENTID EVENT#, DESCRIPTION CHAR} KEY {EVENTID};

VAR ASSOCIATIONNAME	BASE RELATION {ASSOCIATIONID ASSOCIATION#, NAME CHAR} KEY {ASSOCIATIONID};
VAR ASSOCIATIONDESCRIPTION	BASE RELATION {ASSOCIATIONID ASSOCIATION#, DESCRIPTION CHAR} KEY {ASSOCIATIONID};


VAR MAP 	BASE RELATION {MAPID MAP#, NUMWIDTH INTEGER, NUMLENGTH INTEGER, WIDTH RATIONAL, LENGTH RATIONAL} KEY {MAPID};

VAR PLACE	BASE RELATION {PLACEID PLACE#, PLACENAME NAME} KEY {PLACEID};

VAR SUBPLACE	BASE RELATION {PLACE PLACE#, SUBPLACE PLACE#} KEY {SUBPLACE};
VAR SQUAREID	BASE RELATION {PLACEID PLACE#, SQUAREID INTEGER} KEY {PLACEID};
VAR MAPPEDPLACE	BASE RELATION {PLACEID PLACE#, MAPID MAP#} KEY {PLACEID} KEY {MAPID};

VAR EVENT	BASE RELATION {EVENTID EVENT#, PLACEID PLACE#, BEGINNING DATE#, ENDDATE DATE#} KEY {EVENTID, PLACEID, BEGINNING, ENDDATE};




CONSTRAINT C1 ASSOCIATION {CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C2 ORIGINATES {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C3 BEHAVIOR {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C4 (PSEUDO RENAME {CALLERID AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C5 (PSEUDO RENAME {CALLEDID AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C6 (TIMELESSRELATION RENAME {SOURCE AS CHARACTERID}) {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C7 (DATERELATION RENAME {SOURCE AS CHARACTERID}) {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C8 (RANGERELATION RENAME {SOURCE AS CHARACTERID}) {CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C9 (TIMELESSRELATION RENAME {TARGET AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C10 (DATERELATION RENAME {TARGET AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C11 (RANGERELATION RENAME {TARGET AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C12 BIRTH {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C13 DEATH {CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C14 ATTENDS {CHARACTERID} <= CHARACTER {CHARACTERID};




CONSTRAINT C15 ASSOCIATION {ASSOCIATIONID} <= ASSOCIATIONNAME {ASSOCIATIONID};
CONSTRAINT C16 ASSOCIATIONDESCRIPTION {ASSOCIATIONID} <= ASSOCIATIONNAME {ASSOCIATIONID};


CONSTRAINT C17 ORIGINATES {PLACEID} <= PLACE {PLACEID};
CONSTRAINT C18 (SUBPLACE RENAME {PLACE AS PLACEID}){PLACEID} <= PLACE {PLACEID};
CONSTRAINT C19 (SUBPLACE RENAME {SUBPLACE AS PLACEID}){PLACEID} <= PLACE {PLACEID};
CONSTRAINT C20 SQUAREID {PLACEID} <= PLACE {PLACEID};
CONSTRAINT C21 MAPPEDPLACE {PLACEID} <= PLACE {PLACEID};
CONSTRAINT C22 EVENT {PLACEID} <= PLACE {PLACEID};


CONSTRAINT C23 TIMELESSRELATION {RELATIONID} <= RELATIONLIST {RELATIONID};
CONSTRAINT C24 DATERELATION {RELATIONID} <= RELATIONLIST {RELATIONID};
CONSTRAINT C25 RANGERELATION {RELATIONID} <= RELATIONLIST {RELATIONID};

CONSTRAINT C26 DATERELATION {DATEID} <= DATE {DATEID};
CONSTRAINT C27 (RANGERELATION RENAME {START AS DATEID}){DATEID} <= DATE {DATEID};
CONSTRAINT C28 (RANGERELATION RENAME {ENDDATE AS DATEID}){DATEID} <= DATE {DATEID};
CONSTRAINT C29 (BIRTH RENAME {BIRTH AS DATEID}){DATEID} <= DATE {DATEID};
CONSTRAINT C30 (DEATH RENAME {DEATH AS DATEID}){DATEID} <= DATE {DATEID};
CONSTRAINT C31 (EVENT RENAME {BEGINNING AS DATEID}){DATEID} <= DATE {DATEID};
CONSTRAINT C32 (EVENT RENAME {ENDDATE AS DATEID}){DATEID} <= DATE {DATEID};


CONSTRAINT C33 ATTENDS {EVENTID} <= EVENTNAME {EVENTID};
CONSTRAINT C34 EVENTDESCRIPTION {EVENTID} <= EVENTNAME {EVENTID};
CONSTRAINT C35 EVENT {EVENTID} <= EVENTNAME {EVENTID};

CONSTRAINT C36 MAPPEDPLACE {MAPID} <= MAP {MAPID};




