TYPE NAME  POSSREP {NAME CHAR};
TYPE CHARACTER#   POSSREP {CHARACTERNUM CHAR};
TYPE EVENT#	   POSSREP {EVENTNUM CHAR};
TYPE MAP#	   POSSREP {MAPNUM CHAR};
TYPE PLACE#	POSSREP {PLACENUM CHAR};
TYPE ASSOCIATION#	POSSREP {ASSOCIATIONNUM CHAR};
TYPE RELATION#	POSSREP {RELATIONNUM CHAR};
TYPE ENHANCEDDATE	POSSREP {YEAR INTEGER, MONTH INTEGER, DAY INTEGER};




VAR CHARACTER 	BASE RELATION {CHARACTERID CHARACTER#, NAME NAME} KEY {CHARACTERID};

VAR ASSOCIATION	BASE RELATION {CHARACTERID CHARACTER#, ASSOCIATIONID ASSOCIATION#} KEY {CHARACTERID , ASSOCIATIONID};
VAR ORIGINATES	BASE RELATION {CHARACTERID CHARACTER#, PLACEID PLACE#} KEY {CHARACTERID};
VAR BEHAVIOR	BASE RELATION {CHARACTERID CHARACTER#, BEHAVIOR CHAR} KEY {CHARACTERID, BEHAVIOR};
VAR PSEUDO	BASE RELATION {CALLERID CHARACTER#, CALLEDID CHARACTER#, PSEUDONYME NAME} KEY {CALLERID, CALLEDID, PSEUDONYME};

VAR TIMELESSRELATION	BASE RELATION {SOURCE CHARACTER#, TARGET CHARACTER#, RELATIONID RELATION#} KEY {SOURCE, TARGET, RELATIONID};
VAR DATERELATION	BASE RELATION {SOURCE CHARACTER#, TARGET CHARACTER#, RELATIONID RELATION#, DATE ENHANCEDDATE} KEY {SOURCE, TARGET, RELATIONID, DATE};
VAR RANGERELATION	BASE RELATION {SOURCE CHARACTER#, TARGET CHARACTER#, RELATIONID RELATION#, START ENHANCEDDATE, ENDDATE ENHANCEDDATE} KEY {SOURCE, TARGET, RELATIONID, START, ENDDATE};


VAR BIRTH	BASE RELATION {CHARACTERID CHARACTER#, BIRTH ENHANCEDDATE} KEY {CHARACTERID};
VAR DEATH	BASE RELATION {CHARACTERID CHARACTER#, DEATH ENHANCEDDATE} KEY {CHARACTERID};

VAR ATTENDS	BASE RELATION {CHARACTERID CHARACTER#, EVENTID EVENT#} KEY {CHARACTERID, EVENTID};

VAR RELATIONLIST	BASE RELATION {RELATIONID RELATION#, RELATIONTYPE CHAR} KEY {RELATIONID};

VAR EVENTNAME	BASE RELATION {EVENTID EVENT#, NAME CHAR} KEY {EVENTID};
VAR EVENTDESCRIPTION	BASE RELATION {EVENTID EVENT#, DESCRIPTION CHAR} KEY {EVENTID};

VAR ASSOCIATIONNAME	BASE RELATION {ASSOCIATIONID ASSOCIATION#, NAME CHAR} KEY {ASSOCIATIONID};
VAR ASSOCIATIONDESCRIPTION	BASE RELATION {ASSOCIATIONID ASSOCIATION#, DESCRIPTION CHAR} KEY {ASSOCIATIONID};


VAR MAP 	BASE RELATION {MAPID MAP#, NUMWIDTH INTEGER, NUMLENGTH INTEGER, WIDTH RATIONAL, LENGTH RATIONAL} KEY {MAPID};

VAR PLACE	BASE RELATION {PLACEID PLACE#, PLACENAME NAME} KEY {PLACEID};


VAR SUBPLACE	BASE RELATION {PLACEID PLACE#, SQUAREID INTEGER, MAPID MAP#} KEY {PLACEID, SQUAREID, MAPID};


VAR MAPPEDPLACE	BASE RELATION {PLACEID PLACE#, MAPID MAP#} KEY {PLACEID} KEY {MAPID};

VAR EVENT	BASE RELATION {EVENTID EVENT#, PLACEID PLACE#, BEGINNING ENHANCEDDATE, ENDDATE ENHANCEDDATE} KEY {EVENTID, PLACEID, BEGINNING, ENDDATE};




CONSTRAINT C1 ASSOCIATION {CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C2 ORIGINATES {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C3 BEHAVIOR {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C4 (PSEUDO RENAME {CALLERID AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C5 (PSEUDO RENAME {CALLEDID AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C6 (TIMELESSRELATION RENAME {SOURCE AS CHARACTERID}) {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C7 (DATERELATION RENAME {SOURCE AS CHARACTERID}) {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C8 (RANGERELATION RENAME {SOURCE AS CHARACTERID}) {CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C9 (TIMELESSRELATION RENAME {TARGET AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C10 (DATERELATION RENAME {TARGET AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C11 (RANGERELATION RENAME {TARGET AS CHARACTERID}){CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C12 BIRTH {CHARACTERID} <= CHARACTER {CHARACTERID};
CONSTRAINT C13 DEATH {CHARACTERID} <= CHARACTER {CHARACTERID};

CONSTRAINT C14 ATTENDS {CHARACTERID} <= CHARACTER {CHARACTERID};




CONSTRAINT C15 ASSOCIATION {ASSOCIATIONID} <= ASSOCIATIONNAME {ASSOCIATIONID};
CONSTRAINT C16 ASSOCIATIONDESCRIPTION {ASSOCIATIONID} <= ASSOCIATIONNAME {ASSOCIATIONID};


CONSTRAINT C17 ORIGINATES {PLACEID} <= PLACE {PLACEID};
CONSTRAINT C18 SUBPLACE {PLACEID} <= PLACE {PLACEID};
CONSTRAINT C19 MAPPEDPLACE {PLACEID} <= PLACE {PLACEID};
CONSTRAINT C20 EVENT {PLACEID} <= PLACE {PLACEID};


CONSTRAINT C21 TIMELESSRELATION {RELATIONID} <= RELATIONLIST {RELATIONID};
CONSTRAINT C22 DATERELATION {RELATIONID} <= RELATIONLIST {RELATIONID};
CONSTRAINT C23 RANGERELATION {RELATIONID} <= RELATIONLIST {RELATIONID};


CONSTRAINT C31 ATTENDS {EVENTID} <= EVENTNAME {EVENTID};
CONSTRAINT C32 EVENTDESCRIPTION {EVENTID} <= EVENTNAME {EVENTID};
CONSTRAINT C33 EVENT {EVENTID} <= EVENTNAME {EVENTID};

CONSTRAINT C34 MAPPEDPLACE {MAPID} <= MAP {MAPID};
CONSTRAINT C35 SUBPLACE {MAPID} <= MAP {MAPID};



