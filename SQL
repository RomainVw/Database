DROP TABLE IF EXISTS CHARACTER CASCADE;
DROP TABLE IF EXISTS ASSOCIATION CASCADE;
DROP TABLE IF EXISTS ORIGINATES CASCADE;
DROP TABLE IF EXISTS BEHAVIOR CASCADE;
DROP TABLE IF EXISTS PSEUDO CASCADE;
DROP TABLE IF EXISTS TIMELESSRELATION CASCADE;
DROP TABLE IF EXISTS DATERELATION CASCADE;
DROP TABLE IF EXISTS RANGERELATION CASCADE;
DROP TABLE IF EXISTS BIRTH CASCADE;
DROP TABLE IF EXISTS DEATH CASCADE;
DROP TABLE IF EXISTS ATTENDS CASCADE;
DROP TABLE IF EXISTS DATE CASCADE;
DROP TABLE IF EXISTS RELATIONLIST CASCADE;
DROP TABLE IF EXISTS EVENTNAME CASCADE;
DROP TABLE IF EXISTS EVENTDESCRIPTION CASCADE;
DROP TABLE IF EXISTS ASSOCIATIONNAME CASCADE;
DROP TABLE IF EXISTS ASSOCIATIONDESCRIPTION CASCADE;
DROP TABLE IF EXISTS MAP CASCADE;
DROP TABLE IF EXISTS PLACE CASCADE;
DROP TABLE IF EXISTS SUBPLACE CASCADE;
DROP TABLE IF EXISTS SQUAREID CASCADE;
DROP TABLE IF EXISTS MAPPEDPLACE CASCADE;
DROP TABLE IF EXISTS EVENT CASCADE;


CREATE TABLE CHARACTER(
  CHARACTERID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  NAME TEXT NOT NULL
);

CREATE TABLE ASSOCIATION(
  CHARACTERID CHARACTER VARYING(10) NOT NULL,
  ASSOCIATIONID CHARACTER VARYING(10) NOT NULL,
  PRIMARY KEY (CHARACTERID,ASSOCIATIONID)
);

CREATE TABLE ORIGINATES(
  CHARACTERID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  PLACEID CHARACTER VARYING(10) NOT NULL
);

CREATE TABLE BEHAVIOR(
  CHARACTERID CHARACTER VARYING(10) NOT NULL,
  BEHAVIOR CHARACTER VARYING(42) NOT NULL,
  PRIMARY KEY (CHARACTERID,BEHAVIOR)
);

CREATE TABLE PSEUDO(
  CALLERID CHARACTER VARYING(10) NOT NULL,
  CALLEDID CHARACTER VARYING(10) NOT NULL,
  PSEUDONYME CHARACTER VARYING(42) NOT NULL,
  PRIMARY KEY (CALLERID,CALLEDID,PSEUDONYME)
);

CREATE TABLE TIMELESSRELATION(
  SOURCE CHARACTER VARYING(10) NOT NULL,
  TARGET CHARACTER VARYING(10) NOT NULL,
  RELATIONID CHARACTER VARYING(10) NOT NULL,
  PRIMARY KEY (SOURCE,TARGET,RELATIONID)
);

CREATE TABLE DATERELATION(
  SOURCE CHARACTER VARYING(10) NOT NULL,
  TARGET CHARACTER VARYING(10) NOT NULL,
  RELATIONID CHARACTER VARYING(10) NOT NULL,
  DATEID CHARACTER VARYING(10) NOT NULL,
  PRIMARY KEY (SOURCE,TARGET,RELATIONID,DATEID)
);

CREATE TABLE RANGERELATION(
  SOURCE CHARACTER VARYING(10) NOT NULL,
  TARGET CHARACTER VARYING(10) NOT NULL,
  RELATIONID CHARACTER VARYING(10) NOT NULL,
  START CHARACTER VARYING(10) NOT NULL,
  ENDDATE CHARACTER VARYING(10) NOT NULL,
  PRIMARY KEY (SOURCE,TARGET,RELATIONID,START,ENDDATE)
);

CREATE TABLE BIRTH(
  CHARACTERID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  BIRTH CHARACTER VARYING(10) NOT NULL
);

CREATE TABLE DEATH(
  CHARACTERID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  DEATH CHARACTER VARYING(10) NOT NULL
);

CREATE TABLE ATTENDS(
  CHARACTERID CHARACTER VARYING(10) NOT NULL,
  EVENTID CHARACTER VARYING(10) NOT NULL,
  PRIMARY KEY (CHARACTERID,EVENTID)
);

CREATE TABLE DATE(
  DATEID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  BIRTH CHARACTER VARYING(10) NOT NULL
);

CREATE TABLE RELATIONLIST(
  RELATIONID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  RELATIONTYPE CHARACTER VARYING(42) NOT NULL 
);

CREATE TABLE EVENTNAME(
  EVENTID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  NAME CHARACTER VARYING(42) NOT NULL 
);

CREATE TABLE EVENTDESCRIPTION(
  EVENTID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  DESCRIPTION CHARACTER VARYING(42) NOT NULL 
);

CREATE TABLE ASSOCIATIONNAME(
  ASSOCIATIONID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  NAME CHARACTER VARYING(42) NOT NULL 
);

CREATE TABLE ASSOCIATIONDESCRIPTION(
  ASSOCIATIONID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  DESCRIPTION TEXT NOT NULL 
);

CREATE TABLE MAP(
  MAPID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  NUMWIDTH INTEGER NOT NULL,
  NUMLENGTH INTEGER NOT NULL,
  WIDTH DOUBLE PRECISION NOT NULL,
  LENGTH DOUBLE PRECISION NOT NULL
);

CREATE TABLE PLACE(
  PLACEID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  PLACENAME CHARACTER VARYING(42) NOT NULL 
);

CREATE TABLE SUBPLACE(
  PLACE CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  SUBPLACE CHARACTER VARYING(10) NOT NULL
);

CREATE TABLE SQUAREID(
  PLACEID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  SQUAREID CHARACTER VARYING(10) NOT NULL
);

CREATE TABLE MAPPEDPLACE(
  PLACEID CHARACTER VARYING(10) PRIMARY KEY NOT NULL,
  MAPID CHARACTER VARYING(10) UNIQUE NOT NULL
);

CREATE TABLE EVENT(
  EVENTID CHARACTER VARYING(10) NOT NULL,
  PLACEID CHARACTER VARYING(10) NOT NULL,
  BEGINNING CHARACTER VARYING(10) NOT NULL,
  ENDDATE CHARACTER VARYING(10) NOT NULL,
  PRIMARY KEY (EVENTID,PLACEID,BEGINNING,ENDDATE)
);

ALTER TABLE ONLY ASSOCIATION
    ADD CONSTRAINT C1 FOREIGN KEY (CHARACTERID) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY ORIGINATES
    ADD CONSTRAINT C2 FOREIGN KEY (CHARACTERID) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY BEHAVIOR
    ADD CONSTRAINT C3 FOREIGN KEY (CHARACTERID) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY PSEUDO
    ADD CONSTRAINT C4 FOREIGN KEY (CALLERID) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY PSEUDO
    ADD CONSTRAINT C5 FOREIGN KEY (CALLEDID) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY TIMELESSRELATION
    ADD CONSTRAINT C6 FOREIGN KEY (SOURCE) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY DATERELATION
    ADD CONSTRAINT C7 FOREIGN KEY (SOURCE) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY RANGERELATION
    ADD CONSTRAINT C8 FOREIGN KEY (SOURCE) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY TIMELESSRELATION
    ADD CONSTRAINT C9 FOREIGN KEY (TARGET) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY DATERELATION
    ADD CONSTRAINT C10 FOREIGN KEY (TARGET) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY RANGERELATION
    ADD CONSTRAINT C11 FOREIGN KEY (TARGET) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY BIRTH
    ADD CONSTRAINT C12 FOREIGN KEY (CHARACTERID) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY DEATH
    ADD CONSTRAINT C13 FOREIGN KEY (CHARACTERID) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY ATTENDS
    ADD CONSTRAINT C14 FOREIGN KEY (CHARACTERID) REFERENCES CHARACTER(CHARACTERID);

ALTER TABLE ONLY ASSOCIATION
    ADD CONSTRAINT C15 FOREIGN KEY (ASSOCIATIONID) REFERENCES ASSOCIATIONNAME(ASSOCIATIONID);

ALTER TABLE ONLY ASSOCIATIONDESCRIPTION
    ADD CONSTRAINT C16 FOREIGN KEY (ASSOCIATIONID) REFERENCES ASSOCIATIONNAME(ASSOCIATIONID);

ALTER TABLE ONLY ORIGINATES
    ADD CONSTRAINT C17 FOREIGN KEY (PLACEID) REFERENCES PLACE(PLACEID);

ALTER TABLE ONLY SUBPLACE
    ADD CONSTRAINT C18 FOREIGN KEY (PLACE) REFERENCES PLACE(PLACEID);

ALTER TABLE ONLY SUBPLACE
    ADD CONSTRAINT C19 FOREIGN KEY (SUBPLACE) REFERENCES PLACE(PLACEID);

ALTER TABLE ONLY SQUAREID
    ADD CONSTRAINT C20 FOREIGN KEY (PLACEID) REFERENCES PLACE(PLACEID);

ALTER TABLE ONLY MAPPEDPLACE
    ADD CONSTRAINT C21 FOREIGN KEY (PLACEID) REFERENCES PLACE(PLACEID);

ALTER TABLE ONLY EVENT
    ADD CONSTRAINT C22 FOREIGN KEY (PLACEID) REFERENCES PLACE(PLACEID);

ALTER TABLE ONLY TIMELESSRELATION
    ADD CONSTRAINT C23 FOREIGN KEY (RELATIONID) REFERENCES RELATIONLIST(RELATIONID);

ALTER TABLE ONLY DATERELATION
    ADD CONSTRAINT C24 FOREIGN KEY (RELATIONID) REFERENCES RELATIONLIST(RELATIONID);

ALTER TABLE ONLY RANGERELATION
    ADD CONSTRAINT C25 FOREIGN KEY (RELATIONID) REFERENCES RELATIONLIST(RELATIONID);

ALTER TABLE ONLY DATERELATION
    ADD CONSTRAINT C26 FOREIGN KEY (DATEID) REFERENCES DATE(DATEID);

ALTER TABLE ONLY RANGERELATION
    ADD CONSTRAINT C27 FOREIGN KEY (START) REFERENCES DATE(DATEID);

ALTER TABLE ONLY RANGERELATION
    ADD CONSTRAINT C28 FOREIGN KEY (ENDDATE) REFERENCES DATE(DATEID);

ALTER TABLE ONLY BIRTH
    ADD CONSTRAINT C29 FOREIGN KEY (BIRTH) REFERENCES DATE(DATEID);

ALTER TABLE ONLY DEATH
    ADD CONSTRAINT C30 FOREIGN KEY (DEATH) REFERENCES DATE(DATEID);

ALTER TABLE ONLY EVENT
    ADD CONSTRAINT C31 FOREIGN KEY (BEGINNING) REFERENCES DATE(DATEID);

ALTER TABLE ONLY EVENT
    ADD CONSTRAINT C32 FOREIGN KEY (ENDDATE) REFERENCES DATE(DATEID);

ALTER TABLE ONLY ATTENDS
    ADD CONSTRAINT C33 FOREIGN KEY (EVENTID) REFERENCES EVENTNAME(EVENTID);

ALTER TABLE ONLY EVENTDESCRIPTION
    ADD CONSTRAINT C34 FOREIGN KEY (EVENTID) REFERENCES EVENTNAME(EVENTID);

ALTER TABLE ONLY EVENT
    ADD CONSTRAINT C35 FOREIGN KEY (EVENTID) REFERENCES EVENTNAME(EVENTID);

ALTER TABLE ONLY MAPPEDPLACE
    ADD CONSTRAINT C36 FOREIGN KEY (MAPID) REFERENCES MAP(MAPID);

